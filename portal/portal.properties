osivia.accepted-language=fr

# Proxy definition for server inside access
portal.proxyName=
portal.proxyPort=


# Datasource MySQL
db.manager.name=portal
db.manager.pswd=osivia
db.host=mysql:3306
db.base-name=portaldb


# LDAP connection
ldap.timeout=10000
ldap.host=opendj
ldap.url=ldap://LDAP_HOST:1389
ldap.port=389
ldap.manager.dn=cn=Directory Manager
ldap.manager.pswd=osivia


# Nuxeo
nuxeo.privateHost=nuxeo
nuxeo.privatePort=8080
nuxeo.secretKey=secretKey
nuxeo.superUserId=admin
nuxeo.version=62

osivia.preventNuxeoAccess=true


# Cluster 1 : Cluster Web (Synchronisation des sessions => pas utile)
portal.web.cluster.tcpAddr=localhost
portal.web.cluster.tcpPort=8930
portal.web.cluster.initial_hosts=localhost[8930]

# Cluster 2 : Cluster JBoss (Synchronisation des noeuds)
portal.cluster.tcpAddr=localhost
portal.cluster.tcpPort=8920
portal.cluster.initial_hosts=localhost[8920]

# Cluster 3 : Application Portail (Synchronisation applicative)
portal.custom.cache.tcpAddr=localhost
portal.custom.cache.tcpPort=8910
portal.custom.cache.initial_hosts=localhost[8910]

# Cluster 4 : Cache DB
portal.hibernate.cache.tcpAddr=localhost
portal.hibernate.cache.tcpPort=8900
portal.hibernate.cache.initial_hosts=localhost[8900]

# Cluster 5 : EJB3 Entity 
portal.ejb3.entity.cache.tcpAddr=localhost
portal.ejb3.entity.cache.tcpPort=8940
portal.ejb3.entity.cache.initial_hosts=localhost[8940]

# Cluster 6 : EJB3 Stateful 
portal.ejb3.sfsb.cache.tcpAddr=localhost
portal.ejb3.sfsb.cache.tcpPort=8950
portal.ejb3.sfsb.cache.initial_hosts=localhost[8950]

# Cluster 7 : Connect
portal.connect.cache.tcpAddr=localhost
portal.connect.cache.tcpPort=8960
portal.connect.cache.initial_hosts=localhost[8960]

#route name for AJP connections
jvmroute=PORTAL_ROUTEID

#config mails
mail.transport.protocol=smtp
mail.smtp.auth=true
mail.smtp.starttls.enable=true
mail.smtp.host=MAIL_HOST
mail.smtp.port=MAIL_PORT
mail.smtp.user=MAIL_USERNAME
mail.smtp.password=MAIL_PASSWORD
#mail.replyTo=demo@osivia.com

cas.login=https://PUBLIC_HOST/cas/login
cas.logout=https://PUBLIC_HOST/cas/logout
cas.validate=http://CAS_HOST:8080/cas/serviceValidate
cas.proxycallback=
cas.brokenSecurityMode=true

# Tasks
osivia.tasks.host=https://PUBLIC_HOST

# Transactions
osivia.transactionMode=TRANSACTION_MODE

# OnlyOffice
# url publique d'accès à onlyoffice
osivia.onlyoffice.url=/onlyoffice
# identifiant du token à utiliser (contribution ottc-addon onlyoffice)
osivia.onlyoffice.token.id=onlyoffice
# url privé d'accès à nuxeo, pour onlyoffice, visible par l'utilisateur (finit en /nuxeo)
osivia.onlyoffice.nuxeo.url=http://nuxeo:8080/nuxeo
# portal url for only office
osivia.onlyoffice.portal.url=http://httpd:81


# Pronote
# Utilisateur pronote appelant les webservices
pronote.issuer=pronote
# Secret partagé avec pronote pour appels OAuth2
pronote.oauth2.client.secret=PRONOTE_OAUTH2_CLIENT_SECRET
#cle publique RSA
pronote.oauth2.jwt.publicKey.path=PRONOTE_JWT_PUBLIC_KEY_PATH
# Secret partagé avec pronote pour appels JWT
pronote.oauth2.jwt.secret=PRONOTE_JWT_SECRET

#permet de vérifier si le service établissement est UP
pronote.etablissement.checkUrl=PRONOTE_ETB_SERVICE_URL_CHECK
#Url de récupération des information établissement
pronote.etablissement.url=PRONOTE_ETB_SERVICE_URL_GET

# Point de montage pour les exports de données
exportaccount.path=/data/exports/

# Répertoire contenant les fichiers d'internationalisation (cloud_fr.properties)
index.cloud.i18n.bundle.directory=/home/portal

#scheduler du batch du traitement de la quarantaine
index.antivirus.batch.cron=ANTIVIRUS_CRON

# batch maintenance
index.maintenance.batch.cron=MAINTENANCE_CRON
